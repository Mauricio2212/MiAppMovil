<ion-header>
  <ion-row id="row-encabezado" color="#01366aff">
    <ion-col  id="col-encabezado" color="#01366aff">
      <ion-list id="list-encabezado" color="#01366aff">
        <ion-item id="item-encabezado" color="#01366aff">
          <a id="flecha-regreso" href="home"><ion-icon name="arrow-back-outline"></ion-icon></a>
          <ion-title>Usuarios</ion-title>
          <ion-icon id="icono-ayuda" name="help-outline"></ion-icon>
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-row>
</ion-header>

<ion-content>
  <ion-grid>
    <ion-row class="ion-nowrap">
      <ion-col >
        <ion-item button=true detail=true (click)="nuevo()">
          <ion-label>Agregar Administrador</ion-label>
        </ion-item>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <hr>
      </ion-col>
    </ion-row>

    <div *ngIf="enableNewAdmin">
      <ion-row>
        <ion-col>
          <h2>Registrar Administrador Nuevo</h2>
        </ion-col>
      </ion-row>

      <ion-row id="displayName" class="ion-justify-content-center">
        <ion-col size="12">
          <ion-item>
            <ion-input name="displayName" type="text" #displayname [(ngModel)]="newAdmin.displayName" placeholder="Nombre de Administrador"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row class="ion-justify-content-center">
        <ion-col size="12">
          <ion-item>
            <ion-input name="email" type="text" #email [(ngModel)]="newAdmin.email" placeholder="Correo"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row class="ion-justify-content-center">
        <ion-col size="12">
          <ion-item>
            <ion-input name="password" type="password" #password placeholder="ContraseÃ±a"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>

      <ion-row>
        <ion-col>
            <ion-item>
              <ion-button (click)="nuevo()">
                Cancelar
              </ion-button>
              <ion-button (click)="registerAdmin(email, password)">
                Guardar
              </ion-button>
            </ion-item>

            
              <ion-button id="boton-google" color="#ffff "
              type="submit" (click)="googleAdmin(email, password)"
              expand="block">Registrate con Google  
                <img id="icono-google" src="../../../assets/images/GoogleLogo.png" width="30" height="30"></ion-button>
            

            <ion-item>
              <ion-button slot="end" color="danger" (click)="enableNewAdmin = false">
                Cerrar
                <ion-icon name="close"></ion-icon>
              </ion-button>
            </ion-item>
        </ion-col>
      </ion-row>
    </div>
    <ion-row>
      <ion-col>
        <h2>Usuarios</h2>
        <ion-list *ngFor="let user of users">
          <ion-item button="true" detail="true" (click)="enableUser()">
            <ion-label>Nombre: {{user.displayName}}</ion-label> 
          </ion-item>
          <div *ngIf="enableInfoUser">
            <ion-item>
              <ion-label>Correo: {{user.email}}</ion-label> 
            </ion-item>
            <ion-item>
              <ion-label>Verificado: {{user.emailVerified}}</ion-label> 
            </ion-item>
            <ion-buttons slot="end">
              <ion-button color="danger" (click)="enableInfoUser = false" slot="start">
                Cerrar
                <ion-icon slot="end" name="close" color="danger"></ion-icon>
              </ion-button>
            </ion-buttons>
          </div>
          
        </ion-list>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <h2>Admins</h2>
        <ion-list *ngFor="let admin of admins">
          <ion-item button="true" detail="true" (click)="enable()">
            <ion-label>Email: {{admin.email}}</ion-label> 
          </ion-item>
          <div *ngIf="enableInfoAdmin">
            <ion-item>
              <ion-label>Nombre: {{admin.displayName}}</ion-label> 
            </ion-item>
            <ion-item>
              <ion-label>Verificado: {{admin.emailVerified}}</ion-label> 
            </ion-item>
            <ion-item>
              <ion-buttons slot="end">
                
                <ion-button (click)="newAdmin = admin" slot="end">
                  <ion-icon name="create" color="blak"></ion-icon>
                </ion-button>
                <ion-button (click)="deleteAdmin(admin)">
                  <ion-icon slot="end" color="danger" name="trash-bin"></ion-icon>
                </ion-button>
                <ion-button color="danger" (click)="enableInfoAdmin = false" slot="start">
                  Cerrar
                  <ion-icon name="close" color="danger"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-item>
          </div>
         
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
